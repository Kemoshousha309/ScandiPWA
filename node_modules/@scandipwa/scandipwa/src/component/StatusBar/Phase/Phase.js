import { PureComponent } from "react/cjs/react.production.min";
import style from "./Phase.module.css";

class Phase extends PureComponent {
  render() {
    const {
      props: { num, fillColor, finish, active, last, name },
    } = this;

    const fillLineClasses = [style.fillLine];
    const checkpointClassess = [style.checkpoint];
    const checkpointLableClassess = [style.lable];
    let checkpointColor = null;
    if (active) {
      fillLineClasses.push(style.fill);
      checkpointClassess.push(style.activeCheckPoint);
      checkpointLableClassess.push(style.activeLable);
      checkpointColor = fillColor;
    } else {
      fillLineClasses.push(style.notFill);
      checkpointClassess.push(style.inActiveCheckPoint);
      checkpointLableClassess.push(style.inActiveLable);
    }

    return (
      <div className={style.phase}>
        <div className={style.line}>
          <div
            className={fillLineClasses.join(" ")}
            style={{ backgroundColor: fillColor }}
          ></div>
        </div>
        {!last ? (
          <div className={style.checkpointContainer}>
            <div
              style={{ backgroundColor: checkpointColor }}
              className={checkpointClassess.join(" ")}
            >
              {finish ? <span>&#10003;</span> : num}
            </div>
            <span className={checkpointLableClassess.join(" ")}>{name}</span>
          </div>
        ) : null}
      </div>
    );
  }
}

export default Phase;
